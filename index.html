<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AI Functionality Demo ‚Äî Live Input (GitHub Copilot Analogy)</title>
<style>
  :root { --bg:#0b0c10; --panel:#121318; --muted:#8a94a6; --text:#e7ecf3; --brand:#7aa2ff; --ok:#71f0b6; --warn:#ffcc66; --bad:#ff7a90; --code:#0e1116; --card:#141824; }
  html,body { margin:0; height:100%; background:var(--bg); color:var(--text); font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; }
  .wrap { max-width:1000px; margin:0 auto; padding:28px 16px 40px; }
  h1 { font-size:28px; margin:8px 0 4px; }
  .sub { color:var(--muted); margin-bottom:22px; }
  .grid { display:grid; grid-template-columns: 1.2fr 0.8fr; gap:18px; align-items:start; }
  .card { background:var(--card); border:1px solid #22283b; border-radius:16px; padding:18px; box-shadow:0 10px 30px rgba(0,0,0,.25); }
  .card h2 { margin:0 0 10px; font-size:18px; }
  label { display:block; font-size:13px; color:var(--muted); margin-bottom:6px; }
  input[type="number"], input[type="text"], select { width:100%; padding:12px 12px; border-radius:12px; background:var(--panel); color:var(--text); border:1px solid #242b3d; outline:none; }
  input[type="number"]:focus, input[type="text"]:focus, select:focus { border-color:var(--brand); box-shadow:0 0 0 3px rgba(122,162,255,.15); }
  .row { display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
  button { cursor:pointer; border:1px solid #2a3250; background:#172036; color:#dfe7ff; padding:10px 14px; border-radius:12px; transition:.15s transform ease, .15s background ease, .15s border-color ease; font-weight:600; }
  button:hover { transform:translateY(-1px); border-color:#3a4580; }
  .btn-primary { background:#1c2c58; border-color:#32457e; }
  .btn-ghost { background:#131827; color:#bcd0ff; }
  .btn-ok { background:#123b2d; border-color:#1f664f; color:#d6ffe8; }
  .btn-warn { background:#3c2a11; border-color:#60451b; color:#ffe8b8; }
  .btn-bad { background:#3b121c; border-color:#6c2032; color:#ffd6df; }
  .pill { display:inline-block; padding:4px 10px; border-radius:999px; font-size:12px; border:1px solid #2a3250; background:#121729; color:#b7c6ff; }
  .code { background:var(--code); color:#c9defc; border:1px solid #1c2233; border-radius:12px; padding:12px; overflow:auto; font-family:ui-monospace,SFMono-Regular,Consolas,Menlo,monospace; font-size:13px; }
  .out { background:#10131c; border:1px solid #21293a; border-radius:12px; padding:12px; }
  .out h3 { margin:0 0 6px; font-size:14px; color:#cfe1ff; }
  .muted { color:var(--muted); }
  .big { font-size:34px; font-weight:800; letter-spacing:.2px; }
  .center { text-align:center; }
  .stack { display:flex; flex-direction:column; gap:10px; }
  .footer { margin-top:18px; color:var(--muted); font-size:13px; }
  .kbd { font-family:ui-monospace,SFMono-Regular,Consolas,Menlo,monospace; background:#0f1220; border:1px solid #2a3250; padding:2px 6px; border-radius:6px; font-size:12px; }
  .hint { font-size:12px; color:#a6b0c2; margin-top:6px; }
  .badge { display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; border:1px solid #2a3250; background:#10162a; color:#bcd0ff; }
</style>
</head>
<body>
  <div class="wrap">
    <h1>AI Functionality Demo ‚Äî <span class="pill">Live Input + Volunteer</span></h1>
    <div class="sub">AI can <em>perform</em> tasks (functionality) but doesn‚Äôt <em>understand</em> purpose or ethics (intelligence). This demo responds to typing and <span class="badge">Enter</span> key.</div>

    <div class="grid">
      <!-- Left: Controls + Prompt-as-code -->
      <div class="card">
        <h2>1) Set the scenario</h2>
        <label for="salary">Salary (e.g., 100000)</label>
        <input id="salary" type="number" min="0" step="100" value="100000" placeholder="Enter salary and press Enter‚Ä¶" />
        <div class="hint">Tip: Ask your volunteer to type a number and press <span class="kbd">Enter</span>.</div>

        <label for="promptInput" style="margin-top:12px;">AI Prompt (like typing to Copilot)</label>
        <input id="promptInput" type="text" placeholder="e.g., calculate income tax for salary" value="calculate income tax for salary" />
        <div class="hint">Press <span class="kbd">Enter</span> to make AI respond to the prompt.</div>

        <label for="context" style="margin-top:12px;">Context (hidden from AI)</label>
        <select id="context">
          <option value="none" selected>‚Äî hidden ‚Äî</option>
          <option value="student">Student (exempt)</option>
          <option value="senior">Senior (10% rebate)</option>
          <option value="nonresident">Non-resident (flat 15%)</option>
        </select>

        <div class="row">
          <button class="btn-primary" id="btn-ai">ü§ñ AI Calculate</button>
          <button class="btn-warn" id="btn-reveal">üé≠ Reveal Context</button>
          <button class="btn-ok" id="btn-human">üë©‚Äçüíº Human Judgment</button>
          <button class="btn-ghost" id="btn-reset">‚Ü∫ Reset</button>
        </div>

        <div style="height:10px"></div>

        <h2>2) What AI 'sees' (like Copilot)</h2>
        <div class="code" id="promptView">
# Task: Calculate income tax for a salary
# Rule (AI uses a fixed function): tax = salary √ó 0.33
# Context: (hidden)
def calculate_tax(salary):
    return salary * 0.33
        </div>

        <div class="footer">Flow idea: Volunteer types salary ‚Üí press <span class="kbd">Enter</span> (AI calculates) ‚Üí you click <span class="kbd">Reveal Context</span> ‚Üí ask, ‚ÄúShould AI change its answer?‚Äù ‚Üí click <span class="kbd">Human Judgment</span>.</div>
      </div>

      <!-- Right: Outputs -->
      <div class="stack">
        <div class="card">
          <h2>ü§ñ AI Output</h2>
          <div class="out" id="ai-out">
            <h3>Status</h3>
            <div class="muted">Waiting for input‚Ä¶</div>
          </div>
        </div>

        <div class="card">
          <h2>üë©‚Äçüíº Human Output</h2>
          <div class="out" id="human-out">
            <h3>Status</h3>
            <div class="muted">Waiting for judgment‚Ä¶</div>
          </div>
        </div>

        <div class="card center">
          <div class="muted">Closing line</div>
          <div class="big" id="closing">AI helps. Humans decide.</div>
        </div>
      </div>
    </div>
  </div>

<script>
(function(){
  const $ = (id)=>document.getElementById(id);
  const salaryEl = $('salary');
  const promptInput = $('promptInput');
  const contextEl = $('context');
  const aiOut = $('ai-out');
  const humanOut = $('human-out');
  const promptView = $('promptView');

  let contextRevealed = false;

  function fmtMoney(n, decimals=0){
    const num = Number(n||0);
    return num.toLocaleString(undefined,{minimumFractionDigits:decimals, maximumFractionDigits:decimals});
  }

  function updatePromptView(){
    const ctx = contextRevealed ? contextEl.value : 'hidden';
    const ctxText =
      ctx === 'hidden' ? '(hidden)' :
      ctx === 'student' ? 'Student (exempt)' :
      ctx === 'senior' ? 'Senior (10% rebate)' :
      ctx === 'nonresident' ? 'Non-resident (flat 15%)' : '(hidden)';
    promptView.textContent =
`# Task: Calculate income tax for a salary
# Rule (AI uses a fixed function): tax = salary √ó 0.33
# Context: ${ctxText}
def calculate_tax(salary):
    return salary * 0.33`;
  }

  function setAI(primary, secondary, note){
    aiOut.innerHTML = `
      <h3>Status</h3>
      <div>${primary}</div>
      ${secondary?'<div class="muted" style="margin-top:6px">'+secondary+'</div>':''}
      ${note?'<div class="muted" style="margin-top:6px"><em>'+note+'</em></div>':''}
    `;
  }
  function setHuman(primary, secondary){
    humanOut.innerHTML = `
      <h3>Status</h3>
      <div>${primary}</div>
      ${secondary?'<div class="muted" style="margin-top:6px">'+secondary+'</div>':''}
    `;
  }

  function aiCalculate(){
    const s = Number(salaryEl.value||0);
    if (!s || s<0) {
      setAI('Invalid input.','Please type a positive salary and press Enter.');
      return;
    }
    // AI fixed rule: 33%, always ignores context
    const tax = s * 0.33;
    setAI(`Tax = $${fmtMoney(tax)}`, `Computed with fixed rule: 33% of $${fmtMoney(s)}`, contextRevealed ? 'Context ignored.' : '');
  }

  function humanJudge(){
    const s = Number(salaryEl.value||0);
    if (!contextRevealed) {
      setHuman('Insufficient context.','Humans ask: Who is the taxpayer? Any exemptions? What‚Äôs the policy?');
      return;
    }
    if (!s || s<0) {
      setHuman('Invalid salary.','Please enter a positive number.');
      return;
    }
    const ctx = contextEl.value;
    let result = 0;
    let reason = '';
    if (ctx === 'student') {
      result = 0;
      reason = 'Student exemption policy applied.';
    } else if (ctx === 'senior') {
      // senior: 10% rebate on tax
      const base = s * 0.33;
      result = base * 0.90;
      reason = 'Senior rebate: 10% of tax reduced.';
    } else if (ctx === 'nonresident') {
      result = s * 0.15;
      reason = 'Non-resident flat tax at 15%.';
    } else {
      result = s * 0.33;
      reason = 'No special context; default rule applies.';
    }
    setHuman(`Tax = $${fmtMoney(result)}`, `Reason: ${reason}`);
  }

  function resetAll(){
    contextRevealed = false;
    salaryEl.value = 100000;
    promptInput.value = 'calculate income tax for salary';
    contextEl.value = 'none';
    setAI('Waiting for input‚Ä¶','Ask your volunteer to type a salary and press Enter.');
    setHuman('Waiting for judgment‚Ä¶','Reveal context, then apply policy.');
    updatePromptView();
  }

  // Event listeners
  $('btn-ai').addEventListener('click', aiCalculate);
  $('btn-human').addEventListener('click', humanJudge);
  $('btn-reset').addEventListener('click', resetAll);
  $('btn-reveal').addEventListener('click', ()=>{
    contextRevealed = true;
    updatePromptView();
    // If AI already calculated, note that it won't self-correct
    if (aiOut.textContent.includes('Tax =')) {
      setAI(aiOut.querySelector('div:nth-child(2)').textContent, 'Context revealed. AI output unchanged.', 'AI performs function; it does not interpret purpose.');
    }
  });

  // Live interactions
  salaryEl.addEventListener('keydown', (e)=>{
    if (e.key === 'Enter') aiCalculate();
  });
  promptInput.addEventListener('keydown', (e)=>{
    if (e.key === 'Enter') {
      // Only react to prompts that include 'tax' to mimic Copilot
      const q = (promptInput.value||'').toLowerCase();
      if (q.includes('tax')) aiCalculate();
      else setAI('No action.','AI only responds to tax-related prompts in this demo.');
    }
  });
  salaryEl.addEventListener('input', ()=>{
    // If AI has already run once, let changes re-run to feel "live"
    if (aiOut.textContent.includes('Tax =')) aiCalculate();
  });

  // Init
  resetAll();
})();
</script>
</body>
</html>
