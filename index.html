<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>AI Functionality Demo ‚Äî Two Scenarios</title>
<style>
  body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;background:#0b0c10;color:#e7ecf3}
  .wrap{max-width:900px;margin:0 auto;padding:24px}
  h1{font-size:26px;margin:0 0 8px}
  h2{font-size:20px;margin:20px 0 10px}
  p{color:#9aa4b8;margin:6px 0 16px}
  .card{background:#141824;border:1px solid #22283b;border-radius:12px;padding:16px;margin-top:12px}
  label{display:block;font-size:13px;color:#9aa4b8;margin-bottom:6px}
  input,select,button{font:inherit}
  input[type=number],select{width:100%;padding:10px;border-radius:10px;border:1px solid #2a3250;background:#121318;color:#e7ecf3}
  .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  button{cursor:pointer;border:1px solid #2a3250;background:#172036;color:#dfe7ff;padding:10px 14px;border-radius:10px}
  button:hover{transform:translateY(-1px)}
  .out{background:#10131c;border:1px solid #21293a;border-radius:10px;padding:10px;margin-top:8px;min-height:56px}
  .muted{color:#9aa4b8}
  nav{display:flex;gap:8px;margin-bottom:20px}
  nav button{padding:8px 16px}
  .active{background:#1f2b4a;border-color:#3a4f80}
</style>
</head>
<body>
<div class="wrap">
  <h1>AI Functionality Demo ‚Äî Two Scenarios</h1>
  <nav>
    <button id="btnTax" class="active" onclick="showScenario('tax')">üí∞ Income Tax</button>
    <button id="btnGST" onclick="showScenario('gst')">üßæ GST / VAT</button>
  </nav>

  <!-- Scenario 1 -->
  <div id="taxScenario">
    <h2>Scenario 1 ‚Äî Income Tax</h2>
    <p>AI always applies 33% tax and ignores hidden context (student, senior, non-resident). Humans apply judgment after context is revealed.</p>
    <div class="card">
      <label for="salary">Salary (type a number and press Enter)</label>
      <input id="salary" type="number" value="100000" onkeydown="if(event.key==='Enter'){aiTax()}">
      <label for="context" style="margin-top:10px">Context (hidden from AI)</label>
      <select id="context">
        <option value="none" selected>‚Äî hidden ‚Äî</option>
        <option value="student">Student (exempt)</option>
        <option value="senior">Senior (10% rebate)</option>
        <option value="nonresident">Non-resident (flat 15%)</option>
      </select>
      <div class="row">
        <button onclick="aiTax()">ü§ñ AI Calculate</button>
        <button onclick="revealContext()">üé≠ Reveal Context</button>
        <button onclick="humanTax()">üë©‚Äçüíº Human Judgment</button>
        <button onclick="resetTax()">‚Ü∫ Reset</button>
      </div>
      <div class="out" id="aiTaxOut"><span class="muted">AI waiting‚Ä¶</span></div>
      <div class="out" id="humanTaxOut"><span class="muted">Human waiting‚Ä¶</span></div>
      <div class="out" id="ctxTax"><span class="muted">Context: hidden</span></div>
    </div>
  </div>

  <!-- Scenario 2 -->
  <div id="gstScenario" style="display:none">
    <h2>Scenario 2 ‚Äî GST / VAT on Sales</h2>
    <p>AI automatically adds 15% GST to all sales. Humans must interpret item type (standard, zero-rated, exempt).</p>
    <div class="card">
      <label for="amount">Sale Amount (type and press Enter)</label>
      <input id="amount" type="number" value="1000" onkeydown="if(event.key==='Enter'){aiGST()}">
      <label for="item" style="margin-top:10px">Item Type (hidden from AI)</label>
      <select id="item">
        <option value="hidden" selected>‚Äî hidden ‚Äî</option>
        <option value="standard">Standard-rated (15%)</option>
        <option value="zero">Zero-rated (0%)</option>
        <option value="exempt">Exempt (0%)</option>
      </select>
      <div class="row">
        <button onclick="aiGST()">ü§ñ AI Calculate</button>
        <button onclick="revealItem()">üé≠ Reveal Item</button>
        <button onclick="humanGST()">üë©‚Äçüíº Human Judgment</button>
        <button onclick="resetGST()">‚Ü∫ Reset</button>
      </div>
      <div class="out" id="aiGSTOut"><span class="muted">AI waiting‚Ä¶</span></div>
      <div class="out" id="humanGSTOut"><span class="muted">Human waiting‚Ä¶</span></div>
      <div class="out" id="ctxGST"><span class="muted">Item: hidden</span></div>
    </div>
  </div>
</div>

<script>
function showScenario(id){
  document.getElementById('taxScenario').style.display=id==='tax'?'block':'none';
  document.getElementById('gstScenario').style.display=id==='gst'?'block':'none';
  document.getElementById('btnTax').classList.toggle('active',id==='tax');
  document.getElementById('btnGST').classList.toggle('active',id==='gst');
}

/* ----------- Income Tax ----------- */
let contextRevealed=false;
function fmt(n){return Number(n||0).toLocaleString(undefined,{maximumFractionDigits:0});}
function aiTax(){
  const s=Number(document.getElementById('salary').value);
  if(!s||s<=0){document.getElementById('aiTaxOut').innerHTML='Invalid input.';return;}
  document.getElementById('aiTaxOut').innerHTML='AI says: Tax = $'+fmt(s*0.33)+'<div class="muted">Rule: 33% of $'+fmt(s)+(contextRevealed?' ‚Ä¢ ignores context':'')+'</div>';
}
function revealContext(){
  contextRevealed=true;
  const v=document.getElementById('context').value;
  const label=v==='student'?'Student (exempt)':v==='senior'?'Senior (10% rebate)':v==='nonresident'?'Non-resident (15%)':'hidden';
  document.getElementById('ctxTax').innerHTML='Context revealed: <b>'+label+'</b>';
  document.getElementById('aiTaxOut').innerHTML+='<div class="muted">Context revealed ‚Üí AI output unchanged.</div>';
}
function humanTax(){
  const s=Number(document.getElementById('salary').value);
  if(!s||s<=0){document.getElementById('humanTaxOut').innerHTML='Invalid input.';return;}
  if(!contextRevealed){document.getElementById('humanTaxOut').innerHTML='Humans need context first.';return;}
  const v=document.getElementById('context').value;
  let tax=s*0.33,reason='Default 33%.';
  if(v==='student'){tax=0;reason='Student exemption.';}
  else if(v==='senior'){tax=(s*0.33)*0.9;reason='Senior rebate 10%.';}
  else if(v==='nonresident'){tax=s*0.15;reason='Non-resident 15% flat.';}
  document.getElementById('humanTaxOut').innerHTML='Human says: Tax = $'+fmt(tax)+'<div class="muted">'+reason+'</div>';
}
function resetTax(){
  contextRevealed=false;
  document.getElementById('salary').value=100000;
  document.getElementById('context').value='none';
  document.getElementById('aiTaxOut').innerHTML='<span class="muted">AI waiting‚Ä¶</span>';
  document.getElementById('humanTaxOut').innerHTML='<span class="muted">Human waiting‚Ä¶</span>';
  document.getElementById('ctxTax').innerHTML='<span class="muted">Context: hidden</span>';
}

/* ----------- GST ----------- */
let itemRevealed=false;
function fmt2(n,d=2){return Number(n||0).toLocaleString(undefined,{minimumFractionDigits:d,maximumFractionDigits:d});}
function aiGST(){
  const a=Number(document.getElementById('amount').value);
  if(!a||a<=0){document.getElementById('aiGSTOut').innerHTML='Invalid input.';return;}
  document.getElementById('aiGSTOut').innerHTML='AI says: Net $'+fmt2(a)+', GST (15%) $'+fmt2(a*0.15)+', Total $'+fmt2(a*1.15)+'<div class="muted">Always 15%'+(itemRevealed?' ‚Ä¢ ignores item type':'')+'</div>';
}
function revealItem(){
  itemRevealed=true;
  const v=document.getElementById('item').value;
  const label=v==='standard'?'Standard-rated (15%)':v==='zero'?'Zero-rated (0%)':v==='exempt'?'Exempt (0%)':'hidden';
  document.getElementById('ctxGST').innerHTML='Item revealed: <b>'+label+'</b>';
  document.getElementById('aiGSTOut').innerHTML+='<div class="muted">Context revealed ‚Üí AI output unchanged.</div>';
}
function humanGST(){
  const a=Number(document.getElementById('amount').value);
  if(!a||a<=0){document.getElementById('humanGSTOut').innerHTML='Invalid input.';return;}
  if(!itemRevealed){document.getElementById('humanGSTOut').innerHTML='Humans need context first.';return;}
  const v=document.getElementById('item').value;
  let rate=0.15,reason='Standard 15%.';
  if(v==='zero'){rate=0;reason='Zero-rated 0%.';}
  else if(v==='exempt'){rate=0;reason='Exempt 0%.';}
  document.getElementById('humanGSTOut').innerHTML='Human says: Net $'+fmt2(a)+', GST $'+fmt2(a*rate)+', Total $'+fmt2(a*(1+rate))+'<div class="muted">'+reason+'</div>';
}
function resetGST(){
  itemRevealed=false;
  document.getElementById('amount').value=1000;
  document.getElementById('item').value='hidden';
  document.getElementById('aiGSTOut').innerHTML='<span class="muted">AI waiting‚Ä¶</span>';
  document.getElementById('humanGSTOut').innerHTML='<span class="muted">Human waiting‚Ä¶</span>';
  document.getElementById('ctxGST').innerHTML='<span class="muted">Item: hidden</span>';
}
</script>
</body>
</html>
